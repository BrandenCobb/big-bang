apiVersion: kpt.dev/v1alpha1
kind: Kptfile
metadata:
  name: flux-system
packageMetadata:
  shortDescription: sample description
openAPI:
  definitions:
    io.k8s.cli.setters.env:
      x-k8s-cli:
        setter:
          name: env
          value: instance
          required: true
          description: Name of the environment, also defined by folder name of kpt package
    io.k8s.cli.substitutions.env-eck-operator:
      x-k8s-cli:
        substitution:
          name: env-eck-operator
          pattern: ./${env}/elastic-system
          values:
          - marker: ${env}
            ref: '#/definitions/io.k8s.cli.setters.env'
    io.k8s.cli.substitutions.env-logging:
      x-k8s-cli:
        substitution:
          name: env-logging
          pattern: ./${env}/logging
          values:
          - marker: ${env}
            ref: '#/definitions/io.k8s.cli.setters.env'
    io.k8s.cli.substitutions.env-cert-manager:
      x-k8s-cli:
        substitution:
          name: env-cert-manager
          pattern: ./${env}/cert-manager
          values:
          - marker: ${env}
            ref: '#/definitions/io.k8s.cli.setters.env'
    io.k8s.cli.substitutions.env-flux-system:
      x-k8s-cli:
        substitution:
          name: env-flux-system
          pattern: ./${env}/flux-system
          values:
          - marker: ${env}
            ref: '#/definitions/io.k8s.cli.setters.env'
    io.k8s.cli.substitutions.env-gatekeeper-system:
      x-k8s-cli:
        substitution:
          name: env-gatekeeper-system
          pattern: ./${env}/gatekeeper-system
          values:
          - marker: ${env}
            ref: '#/definitions/io.k8s.cli.setters.env'
    io.k8s.cli.substitutions.env-istio-system:
      x-k8s-cli:
        substitution:
          name: env-istio-system
          pattern: ./${env}/istio-system
          values:
          - marker: ${env}
            ref: '#/definitions/io.k8s.cli.setters.env'
    io.k8s.cli.substitutions.env-istio-operator:
      x-k8s-cli:
        substitution:
          name: env-istio-operator
          pattern: ./${env}/istio-operator
          values:
          - marker: ${env}
            ref: '#/definitions/io.k8s.cli.setters.env'
    io.k8s.cli.substitutions.env-monitoring:
      x-k8s-cli:
        substitution:
          name: env-monitoring
          pattern: ./${env}/monitoring
          values:
          - marker: ${env}
            ref: '#/definitions/io.k8s.cli.setters.env'
